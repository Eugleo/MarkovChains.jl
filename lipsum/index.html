<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Lorem ipsum · MarkovChains.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><nav class="toc"><a href="../index.html"><img class="logo" src="../assets/logo.png" alt="MarkovChains.jl logo"/></a><h1>MarkovChains.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Domovská stránka</a></li><li><span class="toctext">Vysvětlení</span><ul><li><a class="toctext" href="../function/">Princip</a></li><li><a class="toctext" href="../implementation/">Implementace</a></li></ul></li><li><span class="toctext">Příklady</span><ul><li class="current"><a class="toctext" href>Lorem ipsum</a><ul class="internal"><li><a class="toctext" href="#Program-1">Program</a></li></ul></li></ul></li><li><span class="toctext">Knihovna</span><ul><li><a class="toctext" href="../public/">Veřejné symboly (EN)</a></li><li><a class="toctext" href="../internals/">Interní symboly (EN)</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Příklady</li><li><a href>Lorem ipsum</a></li></ul><a class="edit-page" href="https://github.com/Eugleo/MarkovChains.jl/blob/master/docs/src/lipsum.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Lorem ipsum</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Lorem-ipsum-1" href="#Lorem-ipsum-1">Lorem ipsum</a></h1><div class="admonition note"><div class="admonition-title">Poznámka</div><div class="admonition-text"><p>V této sekci najdete krátkou demonstraci toho, jak lze můj balíček používat.</p></div></div><p><a href="https://cs.wikipedia.org/wiki/Lorem_ipsum">Lorem ipsum</a> je souhrnné označení pro text, který se sice podobá reálnému textu svou stavbou (tedy délkou slov, vět, poměrem samohlásek/souhlásek), ale který nedává smysl. Takový text se používá například v designu nebo typografii, kde by smysluplný text jen odváděl pozoronost. Originální lorem ipsum je latinský text, jehož první věta <em>Lorem ipsum dolor sit amet, consectetur adipisici elit</em> připomíná úsek z Ciceronovy tvorby.</p><h2><a class="nav-anchor" id="Program-1" href="#Program-1">Program</a></h2><p>Chceme vyprodukovat vlastní lorem ipsum, jedno ve francouzštině a druhé v němčině, abychom viděli, jak bude náš layout na plakát fungovat s různými jazyky. Trénovací texty uložíme do složky <code>assets/corpora/*jazyk*/</code> pod názvy <code>src1.txt</code> až <code>src3.txt</code>.<a href="#footnote-1">[1]</a></p><p>Obecně se každý program bude držet následující struktury:</p><ol><li>Načíst text a převést jej do tokenů.</li><li>Natrénovat na tokenech model Markovova řetězce.</li><li>Vygenerovat text pomocí modelu.</li></ol><p>Nejprve je nutné importovat oba moduly, které tento balíček obsahuje. Pomocí klíčového slova <code>using</code> je naimportujete včetně jejich exportovaných symbolů. <em>Pozn: Ve vašem programu pište jména modulů bez tečky před jménem.</em></p><div><pre><code class="language-julia">using .MarkovChains
using .Tokenizer

filenames_fr = [
    &quot;assets/corpora/french/src1.txt&quot;,
    &quot;assets/corpora/french/src2.txt&quot;,
    &quot;assets/corpora/french/src3.txt&quot;
]

filenames_de = [
    &quot;assets/corpora/german/src1.txt&quot;,
    &quot;assets/corpora/german/src2.txt&quot;,
    &quot;assets/corpora/german/src3.txt&quot;
]</code></pre></div><p>Modelové texty, na kterých se bude náš řetězec trénovat, máme uložené v několika souborech. Je tedy dobré definovat funkci, která bude umět postavit modely i z více souborů. Tyto modely poté můžeme spojit pomocí funkce <a href="../public/#MarkovChains.combine-Tuple{Any,Vararg{Any,N} where N}"><code>combine</code></a>.</p><p>Protože funkce <a href="../public/#MarkovChains.Model"><code>Model</code></a> očekává pole polí tokenů, musíme text tokenizovat. K tomu využijeme funkcí <a href="../public/#Tokenizer.tokenize-Tuple{Any}"><code>tokenize</code></a> a <a href="../public/#Tokenizer.words"><code>words</code></a>. Tím dokončíme krok 1.</p><div><pre><code class="language-julia">function loadfiles(filenames)
    # Return an iterator
    return (
        open(filename) do f
            # Tokenize on words
            tokens = tokenize(read(f, String); on=words)
            return Model(tokens; order=1)
        end
        for filename in filenames
    )
end</code></pre></div><p>Když už máme model, chtěli bychom pomocí něj vygenerovat náhodné věty. Definujeme tedy pomocnou funkci, která nám pomocí <code>modelu</code> vygeneruje <code>n</code> vět a ještě zkontroluje, zda nejsou moc krátké či dlouhé. Z toho sestává krok 2.</p><div><pre><code class="language-julia">function gensentences(model, n)
    sentences = []
    # Stop only after n sentences were generated
    # and passed through the length test
    while length(sentences) &lt; n
        seq = walk(model)
        # Add the sentence to the array iff its length is ok
        if length(seq) &gt; 5 &amp;&amp; length(seq) &lt; 15
            push!(sentences, join(seq, &quot; &quot;))
        end
    end
    # Print each sentence on its own line
    println(join(sentences, &quot;\n&quot;))
end</code></pre></div><p>Nyní už stačí jen vytvořit a natrénovat model a začít generovat! To je 3. a poslední krok.</p><div><pre><code class="language-julia">MODEL_DE = combine(loadfiles(filenames_de)...)
gensentences(MODEL_DE, 4)</code></pre><pre><code class="language-none">Am ersten sang, Zerstoben ist alles zu streuen!
Fluch sey für sie an Brust an der Nachwelt reden und Mückennas’ Ihr anzutragen?
Altmayer. Es ist oder weh dir!
Am meisten lieb’ ich euch auch den tröstlichen Gesang?</code></pre></div><p>A podobně také ve francouzštině:</p><div><pre><code class="language-julia">MODEL_FR = combine(loadfiles(filenames_fr)...)
gensentences(MODEL_FR, 4)</code></pre><pre><code class="language-none">Cétait un bâtiment anglais, on na pas inutile.
sécria comme ébloui des linges pour ceux qui font leurs nids.
jaurais douze cents francs par derrière?
Un autre et des agents de beaux yeux, et la pluie battante.</code></pre></div><hr/><div class="footnote" id="footnote-1"><a href="#footnote-1"><strong>[1]</strong></a><p>Všechny texty použité v této demonstraci pocházejí z <a href="https://www.gutenberg.org">projektu Gutenberg</a>.</p></div><footer><hr/><a class="previous" href="../implementation/"><span class="direction">Previous</span><span class="title">Implementace</span></a><a class="next" href="../public/"><span class="direction">Next</span><span class="title">Veřejné symboly (EN)</span></a></footer></article></body></html>
